
🔗「オンチェーン」とは何か、なぜそれが重要なのか
-------------------

現在、NFT に大きな問題があります。

前回のレッスンで、NFTにする画像を [Imqur](imgur.com)  に保存しました。

ですが、Imqur のサーバーがダウンしてしまった場合、`image` リンクが役に立たなくなり、OpenSea や Rarible 上ではNFT は機能しなくなってしまいます。

また、JSONファイルをホストしたWEBサイトのサーバーがダウンした場合は、メタデータにアクセスできないため、NFT は完全に壊れています。

この問題を解決する1つの方法は、すべての NFT データを「ブロックチェーン上」に保存することです。

**データを「ブロックチェーン上」に保存したり、書き込んだりすることこそ、「オンチェーン」でデータを管理するという意味になります。**

またブロックチェーン上で管理されているデータを、**「オンチェーンデータ」**と呼びます。

データをブロックチェーン上に保存すれば、データはコントラクト自体にコードとして埋め込まれ、NFT は永続的に機能します。

NFT データが失われる唯一の状況は、ブロックチェーン自体がサーバーとして機能しなくなった場合です。

しかし、ブロックチェーンが永遠にサーバーとして機能し続けると仮定すると、私たちの NFT は永遠に失われることはありません。

多くの人気のあるプロジェクトはオンチェーンデータを使用しています。

🖼 SVGとは何か
-------------------

画像の NFT データを保存する一般的な方法は、SVG を使用することです。

SVG はデータ自体がコードで構築されている画像です。

たとえば、下記のコードは非常に単純な SVG です。

中央に白いテキストが含まれるブラックボックスをレンダリングします。

```html
<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet" viewBox="0 0 350 350">
    <style>.base { fill: white; font-family: serif; font-size: 14px; }</style>
    <rect width="100%" height="100%" fill="black" />
    <text x="50%" y="50%" class="base" dominant-baseline="middle" text-anchor="middle">EpicNftCreator</text>
</svg>
```

[こちら](https://www.svgviewer.dev/) のWEBサイトにアクセスし、上のコードを貼り付けて表示してみましょう。

SVG はカスタマイズ可能で、アニメーション化することもできます。

詳細については、[こちら](https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial) をお読みください。

🤘 NFT データをオンチェーンに書き込もう
-------------------

これから、NFT データをオンチェーンで保存する方法を学習します。

次のレッスンでは、**中央に異なる3つの単語**が並ぶ SVG を作成します。

- 上記の例で使用した SVG データを `EpicNftCreator` というコントラクトに埋め込みます。

その後、コントラクト上で、単語を**動的に生成**する方法を学習します。

- **ユーザーがあなたのコントラクトを呼び出して NFT を発行するたび、異なる3つの単語が生成されるプログラムを作成します**。


🙋‍♂️ 質問する
-------------------------------------------
ここまでの作業で何かわからないことがある場合は、Discord の `#section-2-help` で質問をしてください。

ヘルプをするときのフローが円滑になるので、エラーレポートには下記の3点を記載してください✨
```
1. 何をしようとしていたか
2. エラー文をコピー&ペースト
3. エラー画面のスクリーンショット
```

-----
それでは、次のレッスンに進みましょう🎉
